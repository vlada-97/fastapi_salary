# FastAPI Salary

 Представляет собой простое приложение на основе FastAPI для просмотра заработной платы пользователей.

## Установка

- Убедитесь, что у вас установлен Python версии 3.10.
- Склонируйте репозиторий проекта.
- В терминале перейдите в папку проекта.

## Виртуальное окружение

Создайте и активируйте виртуальное окружение:

```cmd
python -m venv venv
source venv/bin/activate
```

## Установка зависимостей

- Установите Poetry, инструмент управления зависимостями:

```cmd
curl -sSL https://install.python-poetry.org | python3 -
```

- Установите зависимости из файла pyproject.toml:

```cmd
poetry install --no-dev
```

## Создание базы данных пользователей

- Запуск скрипта **db** для создания базы данных пользователей с паролем и заработной платой

*Внесите данные пользователей в бд по необходимости.*
*В текущем решении представлены тестовые данные.*

## Запуск приложения

```cmd
poetry run uvicorn main:app --host 0.0.0.0 --port 8000
```

## Вариант №1 Localhost

Приложение будет доступно по [адресу](http://localhost:8000).

### Аутентификация

Для выполнения некоторых запросов требуется аутентификация. Вы можете получить доступный токен доступа, отправив POST-запрос на /token с учетными данными пользователя.

Пример запроса с использованием cURL:

```cmd
curl -X POST -u username:password http://localhost:8000/token
```

В ответе вы получите токен доступа, который необходимо использовать для аутентификации в остальных запросах.

### Получение заработной платы

Чтобы получить информацию о заработной плате пользователя, отправьте GET-запрос на /salary. Убедитесь, что в заголовках запроса присутствует аутентификационный токен.

Пример запроса с использованием cURL:

```cmd
curl -X GET -H "Authorization: Bearer <token>" http://localhost:8000/salary
```

В ответе вы получите информацию о заработной плате пользователя.

## Вариант №2 Sawagger

Для того, чтобы интерактивно просматривать спецификацию и отправлять запросы – используем так называемый Swagger.

Достаточно создать базу данных, далее
просто запустить приложение, перейти по [ссылке](http://127.0.0.1:8000/docs#/).

Далее работа проходит интерактивно:

## Авторизация

![](https://github.com/vlada-97/fastapi_salary/blob/main/gif/autorization.gif)

## Получения токена доступа

![](https://github.com/vlada-97/fastapi_salary/blob/main/gif/get_token.gif)

## Получение результата зарплаты

![](https://github.com/vlada-97/fastapi_salary/blob/main/gif/get_salary.gif)
